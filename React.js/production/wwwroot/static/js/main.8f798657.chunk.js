(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],{28:function(e,t,a){e.exports=a(56)},33:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(26),i=a.n(r),l=(a(33),a(3)),o=["January","February","March","April","May","June","July","August","September","October","November","December"],s=function(e){return o[e.getMonth()]},u=function(e){return"".concat(e.getDate()," ").concat(s(e)," ").concat(e.getFullYear())},m=function(e,t){e.setDate(e.getDate()+t)},d=function(e){var t=e.toString();return 1===t.length?"0"+t:t},h=function(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},p=a(7),f=a.n(p),v=a(1),g=function(e){return c.a.createElement("div",{className:e.className,onClick:e.onClick,"data-isactive":e.active},e.children)},E=a(9),_=function(e){return c.a.createElement("div",{className:"calendar__navbar"},c.a.createElement("div",{className:"calendar__arrow",onClick:e.onLeftClick},c.a.createElement(E.a,{className:"calendar__icon"})),c.a.createElement("h1",{className:"calendar__title"},e.title),c.a.createElement("div",{className:"calendar__arrow",onClick:e.onRightClick},c.a.createElement(E.b,{className:"calendar__icon"})))},b=["Mon","Tue","Wen","Thu","Fri","Sat","Sun"],y=Object(v.f)((function(e){var t=e.match.params.date?new Date(1*e.match.params.date):new Date,a=Object(n.useState)(t),r=Object(l.a)(a,2),i=r[0],o=r[1],u=Object(n.useState)([]),d=Object(l.a)(u,2),p=d[0],v=d[1];Object(n.useEffect)((function(){f.a.get("/api/events").then((function(e){return e.data.data})).then((function(e){return JSON.parse(e)})).then((function(e){var t=e.map((function(e){return{id:e.Id,description:e.Description,date:new Date(e.Date)}}));v(t)})).catch((function(t){e.match.params.date?console.error("Could not connect to the server.\n",t):alert("Sorry, something went wrong while connecting to server. Please make sure that the server is properly running.\n"+t)}))}),[]);var E=function(t){var a=t.target.innerText,n=i.getMonth(),c=i.getFullYear();"false"===t.target.getAttribute("data-isactive")&&(a>20?n--:n++),n>11&&(n=0,c++),n<0&&(n=11,c--),e.history.push("/day/".concat(new Date(c,n,a).getTime()))},y=function(e){var t=new Date(i),a=t.getMonth()+e;a>11&&(a=0,t.setFullYear(t.getFullYear()+1)),a<0&&(a=11,t.setFullYear(t.getFullYear()-1)),t.setMonth(a),o(t)},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],a=new Date(i);for(a.setDate(1);1!==a.getDay();)a.setDate(a.getDate()-1);for(var n=6,c=7,r=0;r<n*c;){var l=!1;e.find((function(e){return h(e.date,a)}))&&(l=!0),t.push({date:a.getDate(),active:a.getMonth()===i.getMonth(),event:l,today:h(a,new Date),sunday:0===a.getDay()}),m(a,1),r++}return t}(p).map((function(e,t){var a=e.date,n=e.active,r=e.event,i=e.today,l=e.sunday;return c.a.createElement(g,{key:t,className:"calendar__day ".concat(n?"":"calendar__day--ghost"," ").concat(r?"calendar__day--event":""," ").concat(i?"calendar__day--today":""," ").concat(l?"calendar__day--red":""),onClick:E,active:n},a)}));return c.a.createElement("div",{className:"calendar"},c.a.createElement(_,{onLeftClick:function(){return y(-1)},onRightClick:function(){return y(1)},title:"".concat(s(i)," ").concat(i.getFullYear())}),c.a.createElement("ul",{className:"calendar__week-days"},b.map((function(e,t){return c.a.createElement("li",{key:t,className:"calendar__week-day"},e)}))),c.a.createElement("div",{className:"calendar__days-box"},N))})),N=function(){return c.a.createElement("section",{className:"home-view"},c.a.createElement(y,null))},w=function(e){var t=Object(n.useState)(e.defaultValue||""),a=Object(l.a)(t,2),r=a[0],i=a[1];return Object(n.useEffect)((function(){i(e.defaultValue)}),[e.defaultValue]),c.a.createElement("div",{className:"text-input"},c.a.createElement("label",{className:"text-input__label"},e.label),c.a.createElement("textarea",{className:"text-input__input",type:"text",onChange:function(t){i(t.target.value),e.onChange&&e.onChange(t.target.value)},value:r}))},D=function(e){var t="btn";return e.classTypes&&(t+=" btn--"+e.classTypes.join(" btn--")),e.type?c.a.createElement("button",{type:e.type,className:t,onClick:e.onClick},e.children):c.a.createElement("button",{className:t,onClick:e.onClick},e.children)},k=function(e){var t=Object(n.useState)(e.default.getHours()),a=Object(l.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(e.default.getMinutes()),s=Object(l.a)(o,2),u=s[0],m=s[1];Object(n.useEffect)((function(){i(e.default.getHours()),m(e.default.getMinutes())}),[e.default]);var h=function(e,t,a){var n=e+t;return n>a?n-a-1:n<0?a+n+1:n},p=function(t,a){var n=r,c=u;"hours"===t?(n=h(r,a,23),i(n)):(c=h(u,a,59),m(c));var l=new Date;l.setHours(n,c,0,0),e.onChange(l)};return c.a.createElement("div",{className:"time-input"},c.a.createElement("h2",{className:"time-input__label"},e.label),c.a.createElement("div",{className:"time-input__time-box"},c.a.createElement("div",{className:"time-input__input"},d(r)),c.a.createElement("div",{className:"time-input__btns-box"},c.a.createElement("button",{type:"button",className:"time-input__btn",onClick:function(){return p("hours",1)}},c.a.createElement(E.d,{className:"time-input__icon time-input__icon--up"})),c.a.createElement("button",{type:"button",className:"time-input__btn",onClick:function(){return p("hours",-1)}},c.a.createElement(E.c,{className:"time-input__icon time-input__icon--down"}))),c.a.createElement("div",{className:"time-input__input"},d(u)),c.a.createElement("div",{className:"time-input__btns-box"},c.a.createElement("button",{type:"button",className:"time-input__btn",onClick:function(){return p("minutes",1)}},c.a.createElement(E.d,{className:"time-input__icon time-input__icon--up"})),c.a.createElement("button",{type:"button",className:"time-input__btn",onClick:function(){return p("minutes",-1)}},c.a.createElement(E.c,{className:"time-input__icon time-input__icon--down"})))))},C=Object(v.f)((function(e){var t=e.match.params.date?new Date(1*e.match.params.date):new Date,a=e.match.params.id||null,r=new Date;r.setHours(0,0,0,0);var i=Object(n.useState)(e.description||""),o=Object(l.a)(i,2),s=o[0],m=o[1],d=Object(n.useState)(r),h=Object(l.a)(d,2),p=h[0],v=h[1],g=Object(n.useState)(!1),E=Object(l.a)(g,2),_=E[0],b=E[1];Object(n.useEffect)((function(){if(a){var t="/api/event/".concat(a);b(!0),f.a.get(t).then((function(e){return JSON.parse(e.data.data)})).then((function(e){m(e.Description);var t=new Date(e.Date);v(t),b(!1)})).catch((function(t){alert("Sorry, event with given id does not exist. Please make sure that the server is properly running."),b(!1),e.history.push("/home")}))}}),[a,e.history]);var y=function(){var e=new FormData;return e.set("Year",t.getFullYear()),e.set("Month",t.getMonth()+1),e.set("Day",t.getDate()),e.set("Hours",p.getHours()),e.set("Minutes",p.getMinutes()),e.set("Description",s),e},N=function(a){var n="/api/updateevent/".concat(a),c=y();b(!0),f.a.put(n,c,{headers:{"Content-Type":"multipart/form-data"}}).then((function(a){b(!1),e.history.push("/day/".concat(t.getTime()))})).catch((function(t){alert("Something went wrong while sending the request. Please check if server is running properly."),b(!1),e.history.push("/home")}))},C=function(){var a=y();b(!0),f.a.post("/api/addevent",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(a){b(!1),e.history.push("/day/".concat(t.getTime()))})).catch((function(t){alert("Something went wrong while sending the request. Please check if server is running properly."),b(!1),e.history.push("/home")}))},O=a?"Editing Event":"New Event",j=a?"Update":"Send",S=c.a.createElement(n.Fragment,null,c.a.createElement(k,{label:"Time: ",onChange:v,default:p}),c.a.createElement(w,{onChange:m,label:"Description: ",defaultValue:s}));return _&&(S=c.a.createElement("div",null,"Loading...")),c.a.createElement("section",{className:"event-view"},c.a.createElement("h1",{className:"section-title"},O," on ",u(t)),c.a.createElement("form",{className:"event-view__form",onSubmit:function(e){if(e.preventDefault(),a)return N(a);C()}},S,c.a.createElement("div",{className:"event-view__btns"},c.a.createElement(D,{type:"submit",classTypes:["green"]},j),c.a.createElement(D,{classTypes:["red"],onClick:function(){return e.history.push("/day/".concat(t.getTime()))}},"Cancel"))))})),O=function(e){var t=e.id,a=e.date,n=e.description,r=e.onDelete,i=e.onEdit,l=n.length>15?n.slice(0,14)+"...":n;return c.a.createElement("div",{className:"event-card"},c.a.createElement("div",{className:"event-card__time"},a.toTimeString().slice(0,5)),c.a.createElement("div",{className:"event-card__description"},l),c.a.createElement("div",{className:"event-card__btns"},c.a.createElement(D,{onClick:i},"Edit"),c.a.createElement(D,{classTypes:["red"],onClick:function(){return r(t)}},"Delete")))},j=function(e){var t=e.children;return c.a.createElement("h1",{className:"section-title"},t)},S=Object(v.f)((function(e){var t=new Date(1*e.match.params.date),a=Object(n.useState)([]),r=Object(l.a)(a,2),i=r[0],o=r[1],s=Object(n.useState)(!0),m=Object(l.a)(s,2),h=m[0],p=m[1],v=function(){var a="/api/events/".concat(t.getFullYear(),"-").concat(d(t.getMonth()+1),"-").concat(d(t.getDate()),"/");f.a.get(a).then((function(e){return e.data.data})).then((function(e){return JSON.parse(e)})).then((function(e){var t=e.map((function(e){return{id:e.Id,description:e.Description,date:new Date(e.Date)}}));o(t),p(!1)})).catch((function(a){alert("Sorry, something went wrong while connecting to server. Please make sure that the server is properly running.\n"+a),e.history.push("/home/".concat(t.getTime()))}))};Object(n.useEffect)((function(){v()}),[]);var g=function(t){var a="/api/deleteevent/".concat(t);p(!0),f.a.delete(a).then((function(e){p(!1),v()})).catch((function(t){alert("Sorry, something went wrong delete request. Please make sure that the server is properly running."),p(!1),e.history.push("/home")}))},E=c.a.createElement("div",{className:"day-view__msg"},"There are no events on this day.");return h&&(E=c.a.createElement("div",null,"Loading...")),i.length>0&&(E=i.map((function(t,a){return c.a.createElement(O,{key:a,id:t.id,date:t.date,description:t.description,onDelete:g,onEdit:function(){return e.history.push("/event/".concat(t.date.getTime(),"/").concat(t.id))}})}))),c.a.createElement("section",{className:"day-view"},c.a.createElement(j,null,"Events on ",u(t)),c.a.createElement("div",{className:"day-view__events-box"},E),c.a.createElement("div",{className:"day-view__btns"},c.a.createElement(D,{onClick:function(){return e.history.push("/event/".concat(t.getTime()))}},"Add New"),c.a.createElement(D,{classTypes:["red"],onClick:function(){return e.history.push("/home/".concat(t.getTime()))}},"Back")))})),T=function(){return c.a.createElement("footer",{className:"footer"},"\xa9 Created by Jan Radziminski")},M=a(11);f.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",f.a.defaults.baseURL="http://localhost:3000/";var F=function(){return c.a.createElement(M.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(v.c,null,c.a.createElement(v.a,{path:"/day/:date",component:S}),c.a.createElement(v.a,{path:"/event/:date/:id?",component:C}),c.a.createElement(v.a,{path:"/home/:date?",component:N}),c.a.createElement(v.a,{path:"/",component:N})),c.a.createElement(T,null)))};i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(F,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.8f798657.chunk.js.map